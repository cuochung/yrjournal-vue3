import{r as x,D as h,n as r,h as p,d as A,m as D,w as l,b as i,e as s,t as g,k as f,E as O,G as R,H as S}from"./index-DtepjGgS.js";const j={class:"d-flex justify-space-between align-center pa-4"},q={class:"d-flex align-center"},z={class:"d-flex align-center"},E={class:"mr-4"},F={class:"mx-3"},H={__name:"PaginatedIterator",props:{items:{type:Array,required:!0},page:{type:Number,default:1},itemsPerPage:{type:Number,default:10},itemsPerPageOptions:{type:Array,default:()=>[{value:5,title:"5"},{value:10,title:"10"},{value:25,title:"25"}]}},emits:["update:page","update:items-per-page"],setup(P,{emit:k}){const u=P,y=k,t=x(u.page),o=x(u.itemsPerPage);h(()=>u.page,e=>{t.value=e}),h(()=>u.itemsPerPage,e=>{o.value=e});const n=r({get:()=>t.value,set:e=>{t.value=e,y("update:page",e)}}),b=r({get:()=>o.value,set:e=>{o.value=e,y("update:items-per-page",e)}}),m=r(()=>u.items.length),d=r(()=>Math.max(1,Math.ceil(m.value/o.value))),C=r(()=>{const e=(t.value-1)*o.value+1,a=Math.min(t.value*o.value,m.value);return`${Math.min(e,m.value)}-${a}`});function N(e){n.value=e}function V(e){b.value=e}function w(){n.value=1}function I(){t.value>1&&(n.value=t.value-1)}function U(){t.value<d.value&&(n.value=t.value+1)}function M(){n.value=d.value}return(e,a)=>{const B=p("v-select"),v=p("v-icon"),c=p("v-btn"),$=p("v-data-iterator");return D(),A($,{items:P.items,"items-per-page":b.value,page:n.value,"onUpdate:page":N,"onUpdate:itemsPerPage":V},{default:l(_=>[O(e.$slots,"default",R(S(_)))]),footer:l(()=>[i("div",j,[i("div",q,[a[1]||(a[1]=i("span",{class:"mr-4"},"每頁顯示：",-1)),s(B,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=_=>o.value=_),items:P.itemsPerPageOptions,"item-title":"title","item-value":"value",density:"compact","hide-details":"",style:{"max-width":"100px"}},null,8,["modelValue","items"])]),i("div",z,[i("span",E,g(C.value)+" / "+g(m.value),1),s(c,{density:"compact",icon:"",disabled:t.value===1,onClick:w},{default:l(()=>[s(v,null,{default:l(()=>[...a[2]||(a[2]=[f("mdi-page-first",-1)])]),_:1})]),_:1},8,["disabled"]),s(c,{class:"ml-1",density:"compact",icon:"",disabled:t.value===1,onClick:I},{default:l(()=>[s(v,null,{default:l(()=>[...a[3]||(a[3]=[f("mdi-chevron-left",-1)])]),_:1})]),_:1},8,["disabled"]),i("span",F,g(t.value)+" / "+g(d.value),1),s(c,{density:"compact",icon:"",disabled:t.value===d.value,onClick:U},{default:l(()=>[s(v,null,{default:l(()=>[...a[4]||(a[4]=[f("mdi-chevron-right",-1)])]),_:1})]),_:1},8,["disabled"]),s(c,{class:"ml-1",density:"compact",icon:"",disabled:t.value===d.value,onClick:M},{default:l(()=>[s(v,null,{default:l(()=>[...a[5]||(a[5]=[f("mdi-page-last",-1)])]),_:1})]),_:1},8,["disabled"])])])]),_:3},8,["items","items-per-page","page"])}}};export{H as _};
