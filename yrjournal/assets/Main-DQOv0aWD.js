import{l as T,u as $,r as y,n as z,a as F,h as s,c as g,m as c,e,w as t,k as l,F as J,p as O,q as j,d as h,t as i,v as q,b as v,i as A,f,j as E,T as L,s as R}from"./index-DtepjGgS.js";const U={class:"nav"},G=["onClick","onKeypress"],H={class:"font-weight-black text-white subtitle-1 text-sm-h6"},P={class:"subtitle-1 text-white ml-2 d-none d-sm-flex"},Q={__name:"Navbar",setup(b){const _=T(),n=$();y(!0);const r=y(!1),u=z(()=>n.state.authKeys),k=()=>{n.state.logined=!1,_.push("/login"),sessionStorage.clear()},D=()=>{sessionStorage.getItem("pData")!=null?(n.state.cData=JSON.parse(sessionStorage.getItem("cData")),n.state.pData=JSON.parse(sessionStorage.getItem("pData"))):_.push("/login")},w=p=>n.state.pData[p]==="true"||p==="pass";return F(()=>{D(),w()}),(p,o)=>{const d=s("v-list-item-title"),S=s("v-divider"),m=s("v-icon"),x=s("v-list-item"),C=s("v-list"),N=s("v-navigation-drawer"),V=s("router-link"),K=s("v-toolbar-title"),B=s("v-spacer"),M=s("v-btn"),I=s("v-app-bar");return c(),g("nav",U,[e(N,{app:"",temporary:"",modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=a=>r.value=a),location:"right",color:"rgba(50, 67, 95, 0.8)"},{default:t(()=>[e(d,{class:"text-center text-white my-2"},{default:t(()=>[...o[2]||(o[2]=[l("功能選擇",-1)])]),_:1}),e(S,{color:"white"}),e(C,{density:"compact",nav:""},{default:t(()=>[(c(!0),g(J,null,O(u.value,a=>j((c(),h(x,{key:a.label,to:a.route},{prepend:t(()=>[e(m,{color:"yellow"},{default:t(()=>[l(i(a.icon),1)]),_:2},1024)]),default:t(()=>[e(d,{class:"text-yellow",style:{"font-size":"1rem"}},{default:t(()=>[l(i(a.label),1)]),_:2},1024)]),_:2},1032,["to"])),[[q,w(a.authKey)]])),128)),e(x,{onClick:k},{prepend:t(()=>[e(m,{color:"yellow"},{default:t(()=>[...o[3]||(o[3]=[l("mdi-logout",-1)])]),_:1})]),default:t(()=>[e(d,{class:"text-yellow",style:{"font-size":"1rem"}},{default:t(()=>[...o[4]||(o[4]=[l("登出",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(I,{color:"rgba(50, 67, 95, 0.8)",app:"",fixed:"",class:"align-center"},{default:t(()=>[e(K,{style:{cursor:"pointer"}},{default:t(()=>[e(V,{to:"/main/functionlist",custom:""},{default:t(({navigate:a})=>[v("div",{onClick:a,onKeypress:A(a,["enter"]),class:"d-flex"},[v("span",H,i(f(n).state.cData.company_name),1),v("span",P," v."+i(f(n).state.verMsg),1)],40,G)]),_:1})]),_:1}),e(B),e(M,{text:"",color:"white",onClick:o[1]||(o[1]=E(a=>r.value=!r.value,["stop"])),class:"font-weight-black text-white text-caption text-sm-h6"},{default:t(()=>[l(i(f(n).state.pData.name)+" ",1),e(m,null,{default:t(()=>[...o[5]||(o[5]=[l("mdi-apps",-1)])]),_:1})]),_:1})]),_:1})])}}},W={class:"main blue-grey lighten-4"},Y={__name:"Main",setup(b){return(_,n)=>{const r=s("router-view");return c(),g("div",W,[e(Q),e(r,null,{default:t(({Component:u})=>[e(L,{name:"slide-fade",mode:"out-in",appear:""},{default:t(()=>[(c(),h(R(u)))]),_:2},1024)]),_:1})])}}};export{Y as default};
